---
// src/components/trackcard.astro
interface Props {
  title: string;
  spotifyEmbedUrl: string;
  artist?: string; // Optional prop for collaborating artists
}

const { title, spotifyEmbedUrl, artist } = Astro.props;
// Construct full title for accessibility based on whether an artist prop is provided
const fullTitle = artist ? `${title} by ${artist}` : `${title} by Babypauul`;
---
<div class="track-card">
  {/* The track-title can be displayed above the player, or omit if player shows it */}
  <div class="track-player">
    <iframe
      style="border-radius:12px"
      src={spotifyEmbedUrl}
      width="100%"
      height="352"
      frameBorder="0"
      allowfullscreen=""
      allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
      loading="lazy"
      title={`Spotify player for ${fullTitle}`}
    ></iframe>
  </div>
</div>

<style>
  /* Specific styles for the track card */
  .track-card {
    background: var(--card);
    border-radius: 16px;
    padding: 1.2rem 1rem 1.7rem 1rem;
    box-shadow: 0 2px 12px #00ffff22;
    position: relative;
    text-align: center;
    transition: box-shadow var(--transition), transform var(--transition);
  }
  .track-card:hover {
    box-shadow: 0 6px 24px #B026FF66;
    transform: translateY(-6px) scale(1.02);
  }
  /* If you add an image (track-art), include its styles here */
  /* .track-art {
    width: 80px;
    height: 80px;
    border-radius: 12px;
    margin-bottom: 1rem;
    object-fit: cover;
    border: 2px solid var(--accent-blue);
    background: #222;
  } */
  .track-player { margin-bottom: 0.4rem; }
  .track-title {
    font-size: 1.1rem;
    font-weight: bold;
    margin-bottom: 0.4rem;
    color: var(--accent-blue);
  }
</style>